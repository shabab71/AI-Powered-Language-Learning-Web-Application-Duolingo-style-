/* ===================== THEME TOKENS (unified) ===================== */
    :root{
      --bg:#0f1720; --panel:#0c1520; --panel-2:#111c26; --border:#1f2b36;
      --text:#e6f0f6; --muted:#9fb2c1; --accent:#21e271; --ink:#062c15;
      --track:#13222d; --shadow:0 8px 30px rgba(0,0,0,.35);
      --ring:0 0 0 .25rem rgba(33,226,113,.35);
      --chip:#0b141c; --chip-border:#233546;
      --input-bg:#0b141c; --input-br:#263848;
      --ok:#21e271; --warn:#ffc94d; --bad:#ff6b6b;
      --link:inherit; --link-hover:inherit;
    }
    html[data-theme="light"]{
      --bg:#f6f8fb; --panel:#ffffff; --panel-2:#ffffff; --border:#d9e1ea;
      --text:#0b1b2b; --muted:#3b4a5a; --accent:#21e271; --ink:#052c15;
      --track:#e8eef5; --shadow:0 8px 24px rgba(3,27,78,.08);
      --ring:0 0 0 .25rem rgba(33,226,113,.25);
      --chip:#f8fafc; --chip-border:#e6edf5;
      --input-bg:#ffffff; --input-br:#cfd8e3;
      --ok:#21e271; --warn:#ffc94d; --bad:#ff6b6b;
      --link:inherit; --link-hover:inherit;
    }

    /* ===================== BASE / LAYOUT (shared) ===================== */
    html,body{height:100%}
    body{background:var(--bg);color:var(--text)}
    a{color:var(--link);text-decoration:none}
    a:hover{color:var(--link-hover);text-decoration:underline}
    .card{background:var(--panel);border:1px solid var(--border);box-shadow:var(--shadow)}
    .form-control,.form-select,.input-group-text{background:var(--input-bg);border-color:var(--input-br);color:var(--text)}
    .form-control:focus,.form-select:focus,.btn:focus{box-shadow:var(--ring);border-color:var(--accent)}
    .muted,.result-meta,.small-muted{color:var(--muted)}

    /* Header / footer */
    .topbar{position:sticky;top:0;z-index:1030;background:linear-gradient(0deg,var(--panel-2),var(--panel));border-bottom:1px solid var(--border)}
    .brand-pill{background:var(--accent);color:var(--ink);border-radius:999px;font-weight:800}
    footer{border-top:1px solid var(--border);background:var(--panel);color:var(--muted)}

    /* Shell / sidebar */
    .shell{display:flex;min-height:calc(100vh - 56px)}
    .sidebar{width:280px;background:var(--panel);border-right:1px solid var(--border);padding:1rem;position:sticky;top:56px;height:calc(100vh - 56px);overflow:auto}
    .side-link{color:var(--text);border:1px solid transparent;border-radius:12px;padding:10px 14px;transition:background-color .15s,color .15s,border-color .15s}
    .side-link.active,.side-link:hover{background:var(--chip);border-color:var(--chip-border);color:var(--text)}
    .main{flex:1;padding:1rem 1rem 0} @media (min-width:992px){ .main{padding:2rem 2rem 0} }

    /* Buttons (green/white flip) */
    .btn-accent{background:var(--accent);color:#000;border:0;transition:background-color .15s,color .15s,border-color .15s}
    .btn-outline{background:transparent;border:1px solid var(--border);color:var(--text);transition:background-color .15s,color .15s,border-color .15s}
    html[data-theme="light"] .btn-outline:hover{background:var(--accent);color:#000;border-color:#000}
    html[data-theme="light"] .btn-accent:hover{background:#fff;color:#000;border:1px solid var(--accent)}
    html[data-theme="dark"]  .btn-outline:hover{background:var(--accent);color:#000;border-color:var(--accent)}
    html[data-theme="dark"]  .btn-accent:hover{background:#fff;color:#000;border:1px solid var(--accent)}
    .btn-outline:disabled{opacity:.7;color:var(--muted);border-color:var(--chip-border)}

    /* Avatar & dropdown (consistent) */
    .avatar{width:34px;height:34px;border-radius:50%;object-fit:cover;border:1px solid var(--border);display:block}
    .nav-avatar-btn{border:1px solid var(--border);background:transparent;color:inherit;padding:4px 8px;border-radius:10px;display:flex;align-items:center;gap:.5rem}
    html[data-theme="dark"]  .nav-avatar-btn:hover{background:rgba(255,255,255,.06)}
    html[data-theme="light"] .nav-avatar-btn:hover{background:#eef4f8}
    .dropdown-menu{background:var(--panel);color:var(--text);border:1px solid var(--border)}
    .dropdown-menu .dropdown-item{color:var(--text)}
    .dropdown-menu .dropdown-item:hover{background:var(--chip)}

    /* Sticky tools */
    .sticky-tools{position:sticky;top:86px;z-index:5}

    /* Media tile */
    .media-thumb{border-radius:12px;overflow:hidden;background:var(--chip);border:1px solid var(--chip-border)}
    .media-thumb img{width:100%;height:150px;object-fit:cover}

    /* Audio chips */
    .audio-btn{border:1px solid var(--chip-border);background:var(--chip);color:var(--text);border-radius:999px;padding:.45rem .8rem}
    .audio-btn:hover{opacity:.92}

    .badge-diff{border:1px solid var(--chip-border);background:var(--chip);color:var(--muted)}

    /* Pagination */
    .pagination .page-link{background:var(--chip);border-color:var(--chip-border);color:var(--text)}
    .pagination .page-item.active .page-link{background:var(--accent);color:#000;border-color:var(--accent)}

    /* === Sidebar hover (make it actually flip to green) === */
.sidebar .side-link{
  display:block;                    /* full-width clickable */
  width:100%;
  padding:10px 14px;
  border:1px solid transparent;
  border-radius:12px;
  transition:background-color .15s,color .15s,border-color .15s;
}

/* Light: hover -> green bg + black text/border (your rule) */
html[data-theme="light"] .sidebar .side-link:hover{
  background:var(--accent);
  color:#000;
  border-color:#000;
  text-decoration:none;
}

/* Dark: hover -> green bg + black text (your rule) */
html[data-theme="dark"] .sidebar .side-link:hover{
  background:var(--accent);
  color:#000;
  border-color:var(--accent);
  text-decoration:none;
}

/* Keep active state subtle (same as before) */
.sidebar .side-link.active{
  background:var(--chip);
  border-color:var(--chip-border);
}

/* === Dark theme text contrast for titles === */
html[data-theme="dark"] .fw-bold,
html[data-theme="dark"] .fs-5{
  color:#fff;           /* make bold titles & fs-5 white in dark */
}


/* ==== HEADER (shared) ==== */
.app-nav{
  background:linear-gradient(0deg,var(--panel-2),var(--panel));
  border-bottom:1px solid var(--border);
}
.brand-pill{
  background:var(--accent);
  color:var(--ink);
  border-radius:999px;
  font-weight:800;
}
.icon-btn{
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
}
html[data-theme="dark"] .icon-btn:hover{ background:rgba(255,255,255,.06) }
html[data-theme="light"] .icon-btn:hover{ background:#eef4f8 }

.nav-avatar-btn{
  border:1px solid var(--border);
  background:transparent;
  color:inherit;
  padding:4px 8px;
  border-radius:10px;
  display:flex; align-items:center; gap:.5rem;
}
.avatar{
  width:36px; height:36px; border-radius:50%;
  object-fit:cover; border:1px solid var(--border);
}

/* Mobile sidebar slide-in (so the header burger works) */
@media (max-width: 991.98px){
  .sidebar{ position:fixed; z-index:1030; top:56px; left:0; transform:translateX(-100%); transition:.2s }
  .sidebar.show{ transform:translateX(0) }
  body.offcanvas-open{ overflow:hidden }
}
